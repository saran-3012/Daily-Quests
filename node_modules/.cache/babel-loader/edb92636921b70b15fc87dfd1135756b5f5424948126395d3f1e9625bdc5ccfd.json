{"ast":null,"code":"import React,{useState}from'react';import{useAllContext}from'../../App';import'../../Styles/ShowPopupBox.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ShowPopupForm=()=>{const StatesAndFunctions=useAllContext();const popupSelectedTaskDetails=StatesAndFunctions.currentSelectedTaskDetails;const[userName,setUserName]=useState(localStorage.getItem('userName')||'');const[formTaskName,setFormTaskName]=useState(popupSelectedTaskDetails?popupSelectedTaskDetails.taskName:'');const[formTaskEndDate,setFormTaskEndDate]=useState(popupSelectedTaskDetails?popupSelectedTaskDetails.taskEndDate:'');const[formTaskEndTime,setFormTaskEndTime]=useState(popupSelectedTaskDetails?popupSelectedTaskDetails.taskEndTime:'');const[formTaskPriority,setFormTaskPriority]=useState(popupSelectedTaskDetails?popupSelectedTaskDetails.taskPriority:false);const handleSubmit=e=>{e.preventDefault();if(!formTaskName){return;}const currentFormTaskDetails={taskName:formTaskName,taskEndDate:formTaskEndDate,taskEndTime:formTaskEndTime,taskPriority:formTaskPriority?\"true\":\"false\"};if(popupSelectedTaskDetails.taskName){currentFormTaskDetails.taskStartDate=popupSelectedTaskDetails.taskStartDate;currentFormTaskDetails.taskStartTime=popupSelectedTaskDetails.taskStartTime;currentFormTaskDetails.taskCompletedStatus=popupSelectedTaskDetails.taskCompletedStatus;StatesAndFunctions.updateTask(popupSelectedTaskDetails,currentFormTaskDetails);}else{const currentDate=StatesAndFunctions.changeDateFormat(new Date().toJSON().slice(0,10));const currentTime=StatesAndFunctions.correctTimeFormat(new Date().toJSON().slice(11,19));currentFormTaskDetails.taskStartDate=currentDate;currentFormTaskDetails.taskStartTime=currentTime;currentFormTaskDetails.taskCompletedStatus=\"false\";StatesAndFunctions.addTask(currentFormTaskDetails);}localStorage.setItem('userName',userName);setFormTaskName('');setFormTaskEndDate('');setFormTaskEndTime('');setFormTaskPriority(false);StatesAndFunctions.changePopupMessageBox('',{});};return/*#__PURE__*/_jsxs(\"div\",{className:\"popup_container_wrapper\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"popup_container_header\",children:popupSelectedTaskDetails.taskName?\"Update Task\":\"Add Task\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"popup_container_inner_wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup_inner_boxes\",style:localStorage.getItem('userName')?{display:'none'}:{display:'flex'},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username_input\",children:\"Your Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"user_name\",id:\"username_input\",placeholder:\"Your name\",onChange:e=>setUserName(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"popup_inner_boxes\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"taskname_input\",children:\"Task Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"task_name\",id:\"taskname_input\",placeholder:\"Task name\",defaultValue:formTaskName,onChange:e=>setFormTaskName(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"popup_inner_boxes\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"taskenddate_input\",children:\"End Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"task_end_date\",id:\"taskenddate_input\",defaultValue:StatesAndFunctions.revertDateFormat(formTaskEndDate),onChange:e=>setFormTaskEndDate(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"popup_inner_boxes\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"taskendtime_input\",children:\"End Time\"}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",name:\"task_end_time\",id:\"taskendtime_input\",defaultValue:StatesAndFunctions.correctTimeFormat(formTaskEndTime),onChange:e=>setFormTaskEndTime(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"popup_checkbox\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"taskfavourite_input\",children:\"Mark as favorite\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"favorite_task\",id:\"taskfavourite_input\",defaultChecked:formTaskPriority,onChange:e=>setFormTaskPriority(e.target.value)})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",id:\"popupform_submit_btn\",className:\"popup_btn\",onClick:handleSubmit,children:popupSelectedTaskDetails.taskName?\"Update\":\"Save\"})]})]});};export default ShowPopupForm;","map":{"version":3,"names":["React","useState","useAllContext","jsx","_jsx","jsxs","_jsxs","ShowPopupForm","StatesAndFunctions","popupSelectedTaskDetails","currentSelectedTaskDetails","userName","setUserName","localStorage","getItem","formTaskName","setFormTaskName","taskName","formTaskEndDate","setFormTaskEndDate","taskEndDate","formTaskEndTime","setFormTaskEndTime","taskEndTime","formTaskPriority","setFormTaskPriority","taskPriority","handleSubmit","e","preventDefault","currentFormTaskDetails","taskStartDate","taskStartTime","taskCompletedStatus","updateTask","currentDate","changeDateFormat","Date","toJSON","slice","currentTime","correctTimeFormat","addTask","setItem","changePopupMessageBox","className","children","style","display","htmlFor","type","name","id","placeholder","onChange","target","value","defaultValue","revertDateFormat","defaultChecked","onClick"],"sources":["C:/My Projects/todo-list-app/src/Components/PopupComponents/ShowPopupForm.jsx"],"sourcesContent":["import React, {useState} from 'react';\r\nimport {useAllContext} from '../../App';\r\nimport '../../Styles/ShowPopupBox.css';\r\n\r\n\r\nconst ShowPopupForm = () => {\r\n  const StatesAndFunctions = useAllContext();\r\n  const popupSelectedTaskDetails = StatesAndFunctions.currentSelectedTaskDetails;\r\n  const [userName, setUserName] = useState(localStorage.getItem('userName')||'');\r\n  const [formTaskName, setFormTaskName] = useState(popupSelectedTaskDetails ? popupSelectedTaskDetails.taskName : '');\r\n  const [formTaskEndDate, setFormTaskEndDate] = useState(popupSelectedTaskDetails ? popupSelectedTaskDetails.taskEndDate : '');\r\n  const [formTaskEndTime, setFormTaskEndTime] = useState(popupSelectedTaskDetails ? popupSelectedTaskDetails.taskEndTime : '');\r\n  const [formTaskPriority, setFormTaskPriority] = useState(popupSelectedTaskDetails ? popupSelectedTaskDetails.taskPriority : false);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if(!formTaskName){\r\n      return;\r\n    }\r\n    const currentFormTaskDetails = {\r\n      taskName:formTaskName,\r\n      taskEndDate:formTaskEndDate,\r\n      taskEndTime:formTaskEndTime,\r\n      taskPriority: formTaskPriority ? \"true\" : \"false\"\r\n    };\r\n\r\n    if (popupSelectedTaskDetails.taskName) {\r\n      currentFormTaskDetails.taskStartDate = popupSelectedTaskDetails.taskStartDate;\r\n      currentFormTaskDetails.taskStartTime = popupSelectedTaskDetails.taskStartTime;\r\n      currentFormTaskDetails.taskCompletedStatus = popupSelectedTaskDetails.taskCompletedStatus;\r\n      StatesAndFunctions.updateTask(popupSelectedTaskDetails, currentFormTaskDetails);\r\n    } \r\n    else {\r\n      const currentDate = StatesAndFunctions.changeDateFormat(new Date().toJSON().slice(0, 10));\r\n      const currentTime = StatesAndFunctions.correctTimeFormat(new Date().toJSON().slice(11,19));\r\n      currentFormTaskDetails.taskStartDate = currentDate;\r\n      currentFormTaskDetails.taskStartTime = currentTime;\r\n      currentFormTaskDetails.taskCompletedStatus = \"false\";\r\n      StatesAndFunctions.addTask(currentFormTaskDetails);\r\n    }\r\n    localStorage.setItem('userName', userName);\r\n    setFormTaskName('');\r\n    setFormTaskEndDate('');\r\n    setFormTaskEndTime('');\r\n    setFormTaskPriority(false);\r\n    StatesAndFunctions.changePopupMessageBox('', {});\r\n  };\r\n\r\n  return (\r\n    <div className='popup_container_wrapper'>\r\n      <h2 className='popup_container_header'>{popupSelectedTaskDetails.taskName?\"Update Task\":\"Add Task\"}</h2>\r\n      <form className='popup_container_inner_wrapper'>\r\n      <div className='popup_inner_boxes' style={localStorage.getItem('userName')?{display:'none'}:{display:'flex'}}>\r\n          <label htmlFor=\"username_input\">Your Name</label>\r\n          <input type=\"text\" name=\"user_name\" id=\"username_input\" placeholder='Your name' onChange={(e) => setUserName(e.target.value)}/>\r\n      </div>\r\n      <div className='popup_inner_boxes'>\r\n          <label htmlFor=\"taskname_input\">Task Name</label>\r\n          <input type=\"text\" name=\"task_name\" id=\"taskname_input\" placeholder='Task name' defaultValue={formTaskName} onChange={(e) => setFormTaskName(e.target.value)}/>\r\n      </div>\r\n      <div className='popup_inner_boxes'>\r\n          <label htmlFor=\"taskenddate_input\">End Date</label>\r\n          <input type=\"date\" name=\"task_end_date\" id=\"taskenddate_input\" defaultValue={StatesAndFunctions.revertDateFormat(formTaskEndDate)} onChange={(e) => setFormTaskEndDate(e.target.value)}/>\r\n      </div>\r\n      <div className='popup_inner_boxes'>\r\n          <label htmlFor=\"taskendtime_input\">End Time</label>\r\n          <input type=\"time\" name=\"task_end_time\" id=\"taskendtime_input\" defaultValue={StatesAndFunctions.correctTimeFormat(formTaskEndTime)} onChange={(e) => setFormTaskEndTime(e.target.value)}/>\r\n      </div>\r\n      <div className='popup_checkbox'>\r\n          <label htmlFor=\"taskfavourite_input\">Mark as favorite</label>\r\n          <input type=\"checkbox\" name=\"favorite_task\" id=\"taskfavourite_input\" defaultChecked={formTaskPriority} onChange={(e) => setFormTaskPriority(e.target.value)}/>\r\n      </div>\r\n      <button type=\"submit\" id=\"popupform_submit_btn\" className='popup_btn' onClick={handleSubmit}>{popupSelectedTaskDetails.taskName?\"Update\":\"Save\"}</button>\r\n      </form>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default ShowPopupForm;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,QAAQ,KAAO,OAAO,CACrC,OAAQC,aAAa,KAAO,WAAW,CACvC,MAAO,+BAA+B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAGvC,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAAAC,kBAAkB,CAAGN,aAAa,CAAC,CAAC,CAC1C,KAAM,CAAAO,wBAAwB,CAAGD,kBAAkB,CAACE,0BAA0B,CAC9E,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAACY,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,EAAE,EAAE,CAAC,CAC9E,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGf,QAAQ,CAACQ,wBAAwB,CAAGA,wBAAwB,CAACQ,QAAQ,CAAG,EAAE,CAAC,CACnH,KAAM,CAACC,eAAe,CAAEC,kBAAkB,CAAC,CAAGlB,QAAQ,CAACQ,wBAAwB,CAAGA,wBAAwB,CAACW,WAAW,CAAG,EAAE,CAAC,CAC5H,KAAM,CAACC,eAAe,CAAEC,kBAAkB,CAAC,CAAGrB,QAAQ,CAACQ,wBAAwB,CAAGA,wBAAwB,CAACc,WAAW,CAAG,EAAE,CAAC,CAC5H,KAAM,CAACC,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGxB,QAAQ,CAACQ,wBAAwB,CAAGA,wBAAwB,CAACiB,YAAY,CAAG,KAAK,CAAC,CAElI,KAAM,CAAAC,YAAY,CAAIC,CAAC,EAAK,CAC1BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAG,CAACd,YAAY,CAAC,CACf,OACF,CACA,KAAM,CAAAe,sBAAsB,CAAG,CAC7Bb,QAAQ,CAACF,YAAY,CACrBK,WAAW,CAACF,eAAe,CAC3BK,WAAW,CAACF,eAAe,CAC3BK,YAAY,CAAEF,gBAAgB,CAAG,MAAM,CAAG,OAC5C,CAAC,CAED,GAAIf,wBAAwB,CAACQ,QAAQ,CAAE,CACrCa,sBAAsB,CAACC,aAAa,CAAGtB,wBAAwB,CAACsB,aAAa,CAC7ED,sBAAsB,CAACE,aAAa,CAAGvB,wBAAwB,CAACuB,aAAa,CAC7EF,sBAAsB,CAACG,mBAAmB,CAAGxB,wBAAwB,CAACwB,mBAAmB,CACzFzB,kBAAkB,CAAC0B,UAAU,CAACzB,wBAAwB,CAAEqB,sBAAsB,CAAC,CACjF,CAAC,IACI,CACH,KAAM,CAAAK,WAAW,CAAG3B,kBAAkB,CAAC4B,gBAAgB,CAAC,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,MAAM,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAAE,EAAE,CAAC,CAAC,CACzF,KAAM,CAAAC,WAAW,CAAGhC,kBAAkB,CAACiC,iBAAiB,CAAC,GAAI,CAAAJ,IAAI,CAAC,CAAC,CAACC,MAAM,CAAC,CAAC,CAACC,KAAK,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAC1FT,sBAAsB,CAACC,aAAa,CAAGI,WAAW,CAClDL,sBAAsB,CAACE,aAAa,CAAGQ,WAAW,CAClDV,sBAAsB,CAACG,mBAAmB,CAAG,OAAO,CACpDzB,kBAAkB,CAACkC,OAAO,CAACZ,sBAAsB,CAAC,CACpD,CACAjB,YAAY,CAAC8B,OAAO,CAAC,UAAU,CAAEhC,QAAQ,CAAC,CAC1CK,eAAe,CAAC,EAAE,CAAC,CACnBG,kBAAkB,CAAC,EAAE,CAAC,CACtBG,kBAAkB,CAAC,EAAE,CAAC,CACtBG,mBAAmB,CAAC,KAAK,CAAC,CAC1BjB,kBAAkB,CAACoC,qBAAqB,CAAC,EAAE,CAAE,CAAC,CAAC,CAAC,CAClD,CAAC,CAED,mBACEtC,KAAA,QAAKuC,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtC1C,IAAA,OAAIyC,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CAAErC,wBAAwB,CAACQ,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAK,CAAC,cACxGX,KAAA,SAAMuC,SAAS,CAAC,+BAA+B,CAAAC,QAAA,eAC/CxC,KAAA,QAAKuC,SAAS,CAAC,mBAAmB,CAACE,KAAK,CAAElC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,CAACkC,OAAO,CAAC,MAAM,CAAC,CAAC,CAACA,OAAO,CAAC,MAAM,CAAE,CAAAF,QAAA,eACzG1C,IAAA,UAAO6C,OAAO,CAAC,gBAAgB,CAAAH,QAAA,CAAC,WAAS,CAAO,CAAC,cACjD1C,IAAA,UAAO8C,IAAI,CAAC,MAAM,CAACC,IAAI,CAAC,WAAW,CAACC,EAAE,CAAC,gBAAgB,CAACC,WAAW,CAAC,WAAW,CAACC,QAAQ,CAAG1B,CAAC,EAAKhB,WAAW,CAACgB,CAAC,CAAC2B,MAAM,CAACC,KAAK,CAAE,CAAC,CAAC,EAC9H,CAAC,cACNlD,KAAA,QAAKuC,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAC9B1C,IAAA,UAAO6C,OAAO,CAAC,gBAAgB,CAAAH,QAAA,CAAC,WAAS,CAAO,CAAC,cACjD1C,IAAA,UAAO8C,IAAI,CAAC,MAAM,CAACC,IAAI,CAAC,WAAW,CAACC,EAAE,CAAC,gBAAgB,CAACC,WAAW,CAAC,WAAW,CAACI,YAAY,CAAE1C,YAAa,CAACuC,QAAQ,CAAG1B,CAAC,EAAKZ,eAAe,CAACY,CAAC,CAAC2B,MAAM,CAACC,KAAK,CAAE,CAAC,CAAC,EAC9J,CAAC,cACNlD,KAAA,QAAKuC,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAC9B1C,IAAA,UAAO6C,OAAO,CAAC,mBAAmB,CAAAH,QAAA,CAAC,UAAQ,CAAO,CAAC,cACnD1C,IAAA,UAAO8C,IAAI,CAAC,MAAM,CAACC,IAAI,CAAC,eAAe,CAACC,EAAE,CAAC,mBAAmB,CAACK,YAAY,CAAEjD,kBAAkB,CAACkD,gBAAgB,CAACxC,eAAe,CAAE,CAACoC,QAAQ,CAAG1B,CAAC,EAAKT,kBAAkB,CAACS,CAAC,CAAC2B,MAAM,CAACC,KAAK,CAAE,CAAC,CAAC,EACxL,CAAC,cACNlD,KAAA,QAAKuC,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAC9B1C,IAAA,UAAO6C,OAAO,CAAC,mBAAmB,CAAAH,QAAA,CAAC,UAAQ,CAAO,CAAC,cACnD1C,IAAA,UAAO8C,IAAI,CAAC,MAAM,CAACC,IAAI,CAAC,eAAe,CAACC,EAAE,CAAC,mBAAmB,CAACK,YAAY,CAAEjD,kBAAkB,CAACiC,iBAAiB,CAACpB,eAAe,CAAE,CAACiC,QAAQ,CAAG1B,CAAC,EAAKN,kBAAkB,CAACM,CAAC,CAAC2B,MAAM,CAACC,KAAK,CAAE,CAAC,CAAC,EACzL,CAAC,cACNlD,KAAA,QAAKuC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC3B1C,IAAA,UAAO6C,OAAO,CAAC,qBAAqB,CAAAH,QAAA,CAAC,kBAAgB,CAAO,CAAC,cAC7D1C,IAAA,UAAO8C,IAAI,CAAC,UAAU,CAACC,IAAI,CAAC,eAAe,CAACC,EAAE,CAAC,qBAAqB,CAACO,cAAc,CAAEnC,gBAAiB,CAAC8B,QAAQ,CAAG1B,CAAC,EAAKH,mBAAmB,CAACG,CAAC,CAAC2B,MAAM,CAACC,KAAK,CAAE,CAAC,CAAC,EAC7J,CAAC,cACNpD,IAAA,WAAQ8C,IAAI,CAAC,QAAQ,CAACE,EAAE,CAAC,sBAAsB,CAACP,SAAS,CAAC,WAAW,CAACe,OAAO,CAAEjC,YAAa,CAAAmB,QAAA,CAAErC,wBAAwB,CAACQ,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAS,CAAC,EACnJ,CAAC,EACJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAAV,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}